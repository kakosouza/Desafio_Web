<h1>Novo Fornecedor</h1>

<div class="well">
    <form #formFornecedor="ngForm">
        <div class="form-group">
            <label for="chave">CPF/CNPJ:</label>
            <input type="text" class="form-control" id="chave" name="chave"
                  [(ngModel)]="fornecedor.chave"
                  #chave="ngModel"
                  minlength="2" maxlength="14" required>
            <div *ngIf="chave.errors && (chave.dirty || chave.touched)"
                 class="alert alert-danger">
                <div [hidden]="!chave.errors['required']">
                  Digite o CPF ou CNPJ do Fornecedor.
                </div>
                <div [hidden]="!chave.errors['minlength']">
                    Caso CPF, você deve preencher desta forma '000' + 11 posições numéricas do CPF.
                </div>
                <div [hidden]="!chave.errors['maxlength']">
                    O CPF/CNPJ deve conter no máximo 14 caracteres numéricos.
                </div>
            </div>
        </div>

        <div class="form-group">
          <label for="nome">Nome:</label>
          <input type="text" class="form-control" id="nome" name="nome"
                  [(ngModel)]="fornecedor.nome"
                  #nome="ngModel"
                  minlength="2" required>
          <div *ngIf="nome.errors && (nome.dirty || nome.touched)"
               class="alert alert-danger">
              <div [hidden]="!nome.errors['required']">
                   Digite o Nome do Fornecedor.
              </div>
              <div [hidden]="!nome.errors['minlength']">
                O Nome deve conter ao menos 2 caracteres.
              </div>
          </div>
        </div>

        <div class="form-group">
          <label for="dtnascimento">Data Nascimento:</label>
          <input type="text" class="form-control" id="data" name="data"
                  [(ngModel)]="fornecedor.dtnascimento"
                  #dtnascimento="ngModel"
                  required>
          <div *ngIf="dtnascimento.errors && (dtnascimento.dirty || dtnascimento.touched)"
               class="alert alert-danger">
              <div [hidden]="!dtnascimento.errors['required']">
                   Digite a Data de Nascimento do Fornecedor.
              </div>
          </div>
        </div>

        <div class="form-group">
           <button type="button" class="btn btn-primary"
              (click)="inserir()"
              [disabled]="!formFornecedor.form.valid">
              <i class="fa fa-save" aria-hidden="true"></i> Salvar
           </button>
           <a class="btn btn-secondary"
              [routerLink]="['/fornecedores/listar']">
              <i class="fa fa-arrow-left" aria-hidden="true"></i> Voltar
           </a>
        </div>
    </form>
</div>
